{% extends 'configure_server.html' %}
{% block rightSidebarContents %}
{% set config = serverConfig.autoroleConfig %}
<div class="category-name">
Autorole
</div>
{{ generateCheckbox(1, "isEnabled", DASHBOARD_ACTIVATE_MODULE, "", serverConfig.autoroleConfig.isEnabled, true) }}
<hr>
<div id="hiddenIfDisabled">
<div class="flavourText">{{ WEBSITE_AUTOROLE_GIVE_ROLE_UPON_JOIN }}</div>
<div class="toggleSubText">{{ WEBSITE_AUTOROLE_ROLE_ATTENTION }}</div>
<select name="chooseRole" id="chooseRole">
	{# {% for role in guild.getRoles %}
	{% if role.isPublicRole() == false %}
	{% if role.isManaged() == false %}
	{% if guild.getSelfMember().canInteract(role) == true %}
	<option value="{{ role.getId }}">{{ role.getName }}</option>
	{% endif %}
	{% endif %}
	{% endif %}
	{% endfor %} #}
</select>
<style>
option:disabled {
    color: #d4d4d4;
}
</style>
<button type="button" onclick="LoriDashboard.ConfigureAutoroleView.addRoleFromSelection()" class="button-success pure-button">{{ WEBSITE_ADD_IT }}</button>
<div class="toggleSubText">{{ WEBSITE_AUTOROLE_CLICK_TO_REMOVE_ROLE }}</div>
<table id="roleTable">
  {# {% for role in config.roles %}
  {% set jdaRole = guild.getRoleById(role) %}
  <tr>
    <td data-internalid="{{ role }}" onclick="DL2(this)">{{ jdaRole.getName() }}</td>
  </tr>
  {% endfor %} #}
</table>
</div>
<hr>
<script>
LoriDashboard.ConfigureAutoroleView.start();
</script>
<button onclick="LoriDashboard.ConfigureAutoroleView.prepareSave()" style="float: right;" class="button-discord button-discord-success pure-button">{{ DASHBOARD_SAVE }}</button>
<br style="clear: both" /> <!-- So dirty! -->
{% endblock %}