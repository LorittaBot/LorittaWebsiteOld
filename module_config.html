{% extends "server_config.html" %}
{% block configName %}Comandos{% endblock %}
{% block configContent %}
<div style="text-align: center;">
<p>Aqui voc√™ pode desativar comandos desnecess√°rios para o seu servidor!</p>
{% if serverConfig.debugOptions.enableAllModules == true %}
<h1 style="color: red;">A op√ß√£o de "todos os m√≥dulos" est√° ativada!</h1>
<p style="color: red;">Nada que voc√™ mudar aqui ter√° efeito at√© voc√™ desativar esta op√ß√£o!</p>
<p>Para desativar, v√° nas op√ß√µes gerais da Loritta!</p>
{% endif %}
</div>
{% for cmd in cmdOptions %}
<div class="remodal" data-remodal-id="{{ cmd.getKey.getClass.getSimpleName }}Options">
<button data-remodal-action="close" class="remodal-close"></button>
<form method="post">
{% for field in cmd.getValue().getClass.getFields %}
{% set optionName = field.getName %}
{% if field.getName == "override" %}
{% set optionName = "Ativar sobreposi√ß√£o de op√ß√µes dos comandos, voc√™ DEVE ativar isto para alterar as pr√≥ximas 5 op√ß√µes! Caso contr√°rio o comando ir√° usar as op√ß√µes globais dos comandos!" %}
{% endif %}
{% if field.getName == "explainOnCommandRun" %}
{% set optionName = "Explicar ao executar o comando? (Ou ao usar ü§∑ como argumento)" %}
{% endif %}
{% if field.getName == "explainInPrivate" %}
{% set optionName = "Explicar o comando no privado? (A op√ß√£o acima precisa estar ativada!)" %}
{% endif %}
{% if field.getName == "commandOutputInPrivate" %}
{% set optionName = "Envie as mensagens do comando no privado?" %}
{% endif %}
{% if field.getName == "mentionOnCommandOutput" %}
{% set optionName = "Mencionar o usu√°rio que executou o comando?" %}
{% endif %}
{% if field.getName == "deleteMessageAfterCommand" %}
{% set optionName = "Deletar a mensagem de quem executou o comando?" %}
{% endif %}
{% if field.getName == "mentionEveryone" %}
{% set optionName = "Mencionar todos que apareceram na imagem?" %}
{% endif %}
{% if field.getName == "hideDiscordTags" %}
{% set optionName = "Esconde as Discord tags dos usu√°rios que apareceram na imagem" %}
{% endif %}
<input type="checkbox" name="{{ field.getName }}" value="true" {% if field.get(cmd.getValue) == true %}checked{% endif %}> {{ optionName }}</br>
{% endfor %}
<input type="hidden" name="editingCommandOptions" value="{{ cmd.getKey.getClass.getSimpleName }}">
<button class="button_danger autoSubmit"> Salvar Altera√ß√µes</button></div>
</form>
{% endfor %}
<form method="post">
<div class="pure-g">
{% for cmd in availableCmds %}
<div class="pure-u-1 pure-u-md-1-4">
<div class="commandInfoWrapper">
{% set disabled = disabledCmds contains cmd %}
<input type="checkbox" name="{{ cmd.getClass.getSimpleName }}" value="true" {% if disabled == false %}checked{% endif %}> {{ serverConfig.commandPrefix }}{{ cmd.getLabel }}</br>
<hr class="commandInfoHr">
{{ cmd.getDescription }}</br>
<div style="text-align: center;">
<a href="#{{ cmd.getClass.getSimpleName }}Options"><button type="button" class="button-secondary pure-button"><i class="fa fa-cogs" aria-hidden="true"></i></button></a>
</div>
</div></div>
</br>
{% endfor %}
</div>
<div style="text-align: center;">
<input type="submit" value="Salvar">
</div>
<input type="hidden" name="editingCmds" value="true">
</form>
</br>
<div style="text-align: center;">
<p>Pregui√ßa de ativar todos os comandos? Ent√£o clique neste bot√£o!</p>
<form method="post">
<input type="submit" value="Ativar TODOS os comandos!">
<input type="hidden" name="activateAllCommands" value="true">
</div>
</form>
<div style="text-align: center;">
<p>Pregui√ßa de desativar todos os comandos? Ent√£o clique neste bot√£o!</p>
<form method="post">
<input type="submit" value="Desativar TODOS os comandos!">
<input type="hidden" name="deactivateAllCommands" value="true">
</div>
</form>
<script>
$('form').on('submit', function(e){
    if ($('form').hasClass("autoSubmit")) {
		e.preventDefault();
		$.ajax({
		   type: "POST",
		   url: window.location.href,
		   data: $(this).serialize(),
		   success: function() {
		   }
		});
	}
});
</script>
{% endblock %}